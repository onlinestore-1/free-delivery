<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Shop</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="referee" content="strict-origin-when-cross-origin">
<style>
  body{margin:0;font-family:Arial;background:#f4f4f4}

/* Top bar */
.topbar{
 display:flex;
 align-items:center;
 background:#2874f0;
 padding:10px;
 color:#fff
}
.menu-btn{font-size:22px;margin-right:10px;cursor:pointer}
.topbar input{
 flex:1;
 padding:8px;
 border:none;
 border-radius:4px
}

/* Drawer */
.drawer{
 position:fixed;
 top:0;
 left:-260px;
 width:260px;
 height:100%;
 background:#fff;
 box-shadow:2px 0 5px rgba(0,0,0,.3);
 transition:.3s;
 z-index:1000
}
.drawer-header{
 background:#2874f0;
 color:#fff;
 padding:15px;
 font-weight:bold
}
.drawer a{
 display:block;
 padding:12px;
 text-decoration:none;
 color:#000;
 border-bottom:1px solid #eee
}
.drawer a:hover{background:#f2f2f2}

/* Overlay */
.overlay{
 position:fixed;
 top:0;left:0;
 width:100%;height:100%;
 background:rgba(0,0,0,.4);
 display:none;
 z-index:900
}

.header{
 display:flex;
 padding:10px;
 background:#2874f0;
 gap:10px;
}

.header input{
 flex:1;
 padding:8px;
 border:none;
 border-radius:4px;
}

.cart-icon{
 color:white;
 font-size:22px;
}

.slider img{
 width:100%;
 display:none;
}

.slider img:first-child{display:block;}

.categories{
 display:flex;
 overflow-x:auto;
 background:#fff;
 padding:10px;
 gap:15px;
}

.categories div{
 min-width:90px;
 text-align:center;
}

.grid{
 display:grid;
 grid-template-columns:repeat(2,1fr);
 gap:10px;
 padding:10px;
}

.card{
 background:#fff;
 padding:10px;
 position:relative;
 border-radius:6px;
}

.card img{
 width:100%;
}

.wishlist{
 position:absolute;
 top:8px;
 right:8px;
 font-size:20px;
 color:#999;
}

.wishlist.active{
 color:red;
}

.buy{
 background:#ff9f00;
 color:#000;
 padding:6px;
 border:none;
 width:100%;
 margin-top:5px;
}
</style>

<!-- ICONS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>

<!-- HEADER -->
  <header class="topbar">
  <span class="menu-btn" onclick="openMenu()">â˜°</span>
  <input type="text" placeholder="Search products..." onkeyup="search(this.value)">
</header>

<div id="drawer" class="drawer">
  <div class="drawer-header">Login & Signup</div>

  <a href="#">SuperCoin Zone</a>
  <a href="#">All Categories</a>
  <a href="orders.html">My Orders</a>
  <a href="cart.html">My Cart</a>
  <a href="#">My Wishlist</a>
  <a href="#">My Account</a>
  <a href="#">Help Centre</a>
  <a href="#">Legal</a>
</div>

<div class="overlay" onclick="closeMenu()"></div>
  <input type="search" placeholder="Search products..." onkeyup="searchProduct(this.value)">
  <i class="fa-solid fa-cart-shopping cart-icon" onclick="location.href='cart.html'"></i>


<!-- AD SLIDER -->
<div class="slider">
  <img src="https://via.placeholder.com/600x200?text=SALE+1">
  <img src="https://via.placeholder.com/600x200?text=SALE+2">
</div>

<!-- CATEGORIES (UNCHANGED LAYOUT) -->
<div class="categories">
  <div onclick="filterCategory('Clothes')">
    <img src="https://via.placeholder.com/80">
    <p>Clothes</p>
  </div>
  <div onclick="filterCategory('Shoes')">
    <img src="https://via.placeholder.com/80">
    <p>Shoes</p>
  </div>
</div>

<h3>Products</h3>
<div id="products" class="grid"></div>

<h3>Suggested For You</h3>
<div id="suggested" class="grid"></div>

<script>
  const products=[
 {id:1,name:"Men T-shirt",price:12,img:"https://i.imgur.com/yslfBUg.jpeg/200",cat:"Clothes"},
 {id:2,name:"Ladies Dress",price:22,img:"https://via.placeholder.com/200",cat:"Clothes"},
 {id:3,name:"Shoes",price:30,img:"https://via.placeholder.com/200",cat:"Shoes"}
];
</script>
<script>
  const productBox=document.getElementById("products");
const suggestedBox=document.getElementById("suggested");

function draw(list,box){
 box.innerHTML="";
 list.forEach(p=>{
  box.innerHTML+=`
  <div class="card">
   <i class="fa-regular fa-heart wishlist" onclick="toggleWish(this,event)"></i>
   <img src="${p.img}" onclick="openProduct(${p.id})">
   <p>${p.name}</p>
   <b>$${p.price}</b>
   <button class="buy" onclick="buyNow(${p.id})">Buy Now</button>
  </div>`;
 });
}

draw(products,productBox);
draw(products.slice(0,2),suggestedBox);

function filterCategory(c){
 draw(products.filter(p=>p.cat===c),productBox);
}

function searchProduct(v){
 draw(products.filter(p=>p.name.toLowerCase().includes(v.toLowerCase())),productBox);
}

function toggleWish(el, e){
  e.stopPropagation();
  el.classList.toggle("active");

  const card = el.closest(".card");
  const name = card.querySelector("p").innerText;
  const price = card.querySelector("b").innerText;
  const img = card.querySelector("img").src;

  let wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];

  const exists = wishlist.find(p => p.name === name);

  if(el.classList.contains("active")){
    if(!exists){
      wishlist.push({name, price, img});
    }
  }else{
    wishlist = wishlist.filter(p => p.name !== name);
  }

  localStorage.setItem("wishlist", JSON.stringify(wishlist));
}

function openProduct(id){
 localStorage.setItem("pid",id);
 location.href="product.html";
}

function buyNow(id) {
  localStorage.setItem("pid",id);
  location.href="product.html";
}

function openMenu(){
 document.getElementById("drawer").style.left="0";
 document.querySelector(".overlay").style.display="block";
}
function closeMenu(){
 document.getElementById("drawer").style.left="-260px";
 document.querySelector(".overlay").style.display="none";
}
</script>
  <script>
function addToOrders(product) {
    let orders = JSON.parse(localStorage.getItem("orders")) || [];
    orders.push({
        ...product,
        date: new Date().toLocaleString()
    });
    localStorage.setItem("orders", JSON.stringify(orders));
    window.location.href = "order.html";
}

    <script>
function addToWishlist(id, e){
  e.stopPropagation();

  let wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];

  if(!wishlist.includes(id)){
    wishlist.push(id);
    localStorage.setItem("wishlist", JSON.stringify(wishlist));
  }

  location.href = "wishlist.html";
}
</script>
</script>
</body>
</html>
