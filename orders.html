<!DOCTYPE html>
<html>
<head>
<title>My Orders</title>
<style>
body {
    font-family: Arial;
    background: #f2f2f2;
}
.orders-wrapper {
    max-width: 900px;
    margin: auto;
}
.order-card {
    background: #fff;
    display: flex;
    gap: 15px;
    padding: 15px;
    margin: 15px 0;
    border-radius: 8px;
}
.order-card img {
    width: 160px;
    height: 160px;
    object-fit: cover;
    border-radius: 6px;
}
.order-info button {
    padding: 10px;
    margin-top: 6px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}
.buy-btn {
    background: green;
    color: white;
}
.delete-btn {
    background: red;
    color: white;
}
</style>
</head>

<body>

<h2 style="text-align:center">My Orders</h2>

<div class="orders-wrapper" id="ordersList"></div>

<script>
let orders = JSON.parse(localStorage.getItem("orders")) || [];
const ordersList = document.getElementById("ordersList");

function showOrders() {
    ordersList.innerHTML = "";

    if (orders.length === 0) {
        ordersList.innerHTML = "<p style='text-align:center'>No orders yet</p>";
        return;
    }

    orders.forEach((order, index) => {
        ordersList.innerHTML += `
        <div class="order-card">
            <img src="${order.img}">
            <div class="order-info">
                <h3>${order.name}</h3>
                <p>Price: ${order.price}</p>
                <p>Ordered: ${order.date}</p>
                <p><b>Payment:</b> Cash on Delivery</p>

                <button class="buy-btn" onclick="buyAgain(${index})">Buy Again</button><br>
                <button class="delete-btn" onclick="deleteOrder(${index})">Delete</button>
            </div>
        </div>
        `;
    });
}

function buyAgain(index) {
    orders.push({
        ...orders[index],
        date: new Date().toLocaleString()
    });
    localStorage.setItem("orders", JSON.stringify(orders));
    showOrders();
    alert("Order placed again!");
}

function deleteOrder(index) {
    orders.splice(index, 1);
    localStorage.setItem("orders", JSON.stringify(orders));
    showOrders();
}

showOrders();
</script>

</body>
</html>
